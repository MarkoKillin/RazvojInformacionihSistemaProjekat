package com.mudl.backend.controllers;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.security.crypto.password.PasswordEncoder;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;

import com.mudl.backend.repositories.KorisnikRepository;

import model.Korisnik;

@Controller
public class LoginController {
	
	@RequestMapping("/")
	public String getHomePage() {
		return "login";
	}
	
	@Autowired
	PasswordEncoder pe;
	
	@Autowired
	KorisnikRepository kr;
	
	
	public void generateBasicUsers() {
		Korisnik admin = new Korisnik();
		admin.setIme("Marko");
		admin.setPrezime("Mirkovic");
		admin.setEmail("mpty");
		admin.setUsername("admin");
		admin.setPassword(pe.encode("admin"));
		kr.save(admin);
		
		Korisnik profesor = new Korisnik();
		profesor.setIme("Bogdan");
		profesor.setPrezime("Markovic");
		profesor.setEmail("mpty");
		profesor.setUsername("profesor");
		profesor.setPassword(pe.encode("profesor"));
		kr.save(profesor);
		
		
		Korisnik student = new Korisnik();
		student.setIme("Bogdana");
		student.setPrezime("Marovic");
		student.setEmail("mpty");
		student.setUsername("student");
		student.setPassword(pe.encode("student"));
		kr.save(student);
	}
}
